
template = <<EOF
s="*************************************************************************
****************************************************************************
****************************************************************************
****************************************************************************
****************************************************************************
****************************************************************************
**********     *     *     *     *     *     *     *     *     *  **********
**********  *     *     *     *     * *   *     *     *     *     **********
**********     *     *     *     *   ***     *     *     *     *  **********
**********  *     *     *     *     ***** *     *     *     *     **********
**********     *     *     *     * *******   *     *     *     *  **********
**********  *     *     *     *    *******      *     *     *     **********
**********     *     *     *     **********  *     *     *     *  **********
**********  *     *     *     *  **********     *     *     *     **********
**********     *     *     *     *********** *     *     *     *  **********
**********  *     *     *     * *************   *     *     *     **********
**********  ****************************************************  **********
**********  *  ***********************************************    **********
**********     * ******************************************    *  **********
**********  *     * *************************************   *     **********
**********     *     * *******************************   *     *  **********
**********  *     *     * *************************   *     *     **********
**********     *     *      *********************  *     *     *  **********
**********  *     *     *  ***********************    *     *     **********
**********     *     *    **************************     *     *  **********
**********  *     *     * *************************   *     *     **********
**********     *     *   ************ * ************     *     *  **********
**********  *     *     ********** *     * *********  *     *     **********
**********     *     *  ******* *     *     *********    *     *  **********
**********  *     *    *******     *     *     ********     *     **********
**********     *     *****      *     *     *     ****   *     *  **********
**********  *     *   **     *     *     *     *     *      *     **********
**********     *     *    *     *     *     *     *      *     *  **********
****************************************************************************
****************************************************************************
****************************************************************************
****************************************************************************
****************************************************************************
****************************************************************************
****************************************************************************
****************************************************************************
**************     *********     *********     *********     ***************
*************       *******       *******       *******       **************
"+#XAgQG1lc3   {R}   NhZ2U   {U}   ucmV2   {B}   ZXJzZ   {Y}   S5tYXAgeyB8bH
#1bZUgNGXlI3N  {X}  hZ2Uucm  {M}  V2ZXJzZ  {A}  S5tYXAg  {S}  eyB8bHwKICAgIC
"*************     *********     *********     *********     ***************
***************   ***********   ***********   ***********   ****************
**************** ************* ************* ************* *****************
****************************************************************************
****************************************************************************
****************************************************************************
****************************************************************************
****************************************************************************
****************************************************************************
*************** # Copyright (C) 2005 Christian Neukirchen / chneukirchen.org
EOF

code = File.read("xmashack.rb")

hexcode = [code].pack("m*").delete("\n")

footer = '";eval s.delete!(" \\n").#unpack("m*")[0]'

hexcode += footer

hcnt = 0
0.upto(template.size) { |tcnt|
  if template[tcnt] == ?* && hcnt < hexcode.size
    template[tcnt] = hexcode[hcnt]
    hcnt += 1
  end
}

puts template


